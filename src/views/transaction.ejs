<%- include("./partials/header.ejs") %>

<div class="w-full h-svh md:h-screen flex flex-col items-center px-6 py-4 bg-gray-900">
  <div class="top-text w-full max-w-screen-md mt-10 md:mt-0">
      <a href="/user/records">
          <button class="absolute top-0 left-0 m-4 px-4 py-2 text-white rounded">
              Cancel
          </button>
      </a>
      <h3 class="text-white text-center text-3xl font-semibold mt-8 mb-6">Add Transaction</h3>

    <form id="form" action="/user/expense" method="post">
        <div class="w-full h-full flex items-center justify-center">
            <div class="w-full max-w-md bg-gray-800 rounded-lg shadow-md p-8">
                <h2 class="text-white text-2xl font-semibold mb-6">New Transaction</h2>
  
                <div class="flex space-x-4 mb-6">
                    <button class="expense w-1/2 py-2 text-white font-semibold rounded bg-red-500 transition-colors duration-300">
                        Expense
                    </button>
                    <button class="income w-1/2 py-2 text-black font-semibold rounded bg-white transition-colors duration-300">
                        Income
                    </button>
                </div>
  
                <div class="mb-4">
                    <label class="block text-white text-sm font-medium mb-2" for="name">From</label>
                    <input class="w-full px-4 py-2 rounded bg-gray-700 text-white focus:outline-none focus:bg-gray-600" type="text" required name="title" placeholder="Enter Name">
                </div>
  
                <div class="flex space-x-4 mb-4">
                    <div class="w-1/2">
                        <label class="block text-white text-sm font-medium mb-2" for="amount">Amount</label>
                        <input class="w-full px-4 py-2 rounded bg-gray-700 text-white text-left focus:outline-none focus:bg-gray-600" type="number" name="amount">
                    </div>
                    <div class="w-1/2">
                        <label class="block text-white text-sm font-medium mb-2" for="date">Date</label>
                        <input class="w-full px-4 py-2 rounded bg-gray-700 text-white focus:outline-none focus:bg-gray-600" type="date" name="date" required>
                    </div>
                </div>
  
                <button class="w-full py-2 text-white font-semibold rounded bg-purple-500 hover:bg-purple-600 transition-colors duration-300" type="submit">
                    SUBMIT
                </button>
            </div>
        </div>
    </form>

  </div>
</div>

<script>
    document.title = "Transaction"

  let flag = 'expense';

  let totalamount = document.querySelector(".totalamt");
  const income = document.querySelector(".income");
  const expense = document.querySelector(".expense");
  let form = document.querySelector("#form")


  function expenseorincome() {

    expense.addEventListener("click", function (e) {
      e.preventDefault();
      expense.style.backgroundColor = "#F44336";
      expense.style.color = "white";
      income.style.backgroundColor = "";
      income.style.color = "";
      flag = 'expense';
      form.setAttribute("action", "/user/expense")
    });

    income.addEventListener("click", function (e) {
        e.preventDefault();
      income.style.backgroundColor = "#4CAF50";
      income.style.color = "white";
      expense.style.color = "black";
      expense.style.backgroundColor = "white";
      flag = 'income';
      form.setAttribute("action", "/user/income")
    });
  }


  expenseorincome();

</script>
  
<%- include("./partials/footer.ejs") %>